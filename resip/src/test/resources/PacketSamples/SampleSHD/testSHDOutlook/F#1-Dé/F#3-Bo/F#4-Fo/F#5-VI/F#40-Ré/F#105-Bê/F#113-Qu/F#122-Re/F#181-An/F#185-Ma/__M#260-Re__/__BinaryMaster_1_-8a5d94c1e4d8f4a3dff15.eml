Return-Path: nathanael.attar.ext@culture.gouv.fr
Received:  from messagerie.int.culture.fr (heckel.culture.fr [143.126.201.38])
	by Pasteur02.culture.fr with ESMTP id v0A9bA7b006285;	Tue, 10 Jan 2017
 10:37:10 +0100
Date: Tue, 10 Jan 2017 10:37:10 +0100 (CET)
From: <nathanael.attar.ext@culture.gouv.fr>
To: CASIMIRIUS Thierry <thierry.casimirius@intradef.gouv.fr>
CC: emmanuel.laborde <emmanuel.laborde@culture.gouv.fr>,
	AJJAZ Franck <franck.ajjaz@altran.com>,BEL Nicolas <nicolas.bel@intradef.gouv.fr>,
	haykel BENMASSAOUD <haykel.benmassaoud.ext@culture.gouv.fr>
Message-ID: <8a5d94c1e4d8f4a3dff155661d6ff17b@culture.gouv.fr>
In-Reply-To: <BD292097C8AEFE49AF7A7C373C29524D3B2A77E3@DRSCZ-MLLGWM18V.DR-RES.INTRADEF.GOUV.FR>
References:  <BD292097C8AEFE49AF7A7C373C29524D3B2A77E3@DRSCZ-MLLGWM18V.DR-RES.INTRADEF.GOUV.FR>
Subject: =?UTF-8?Q?Re:_TR:_Anomalie_Tuleap_46_-_Mantis_[Projet_VITAM_0000048]:_R?=
 =?UTF-8?Q?=C3=A8gle_de_gestion_ACC-0004_fait_p?=
 =?UTF-8?Q?lanter_Ingest_=3D>_Bug_rejet=C3=A9_=3F=3F=3F?=
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_376_19850872.1517006385224"
X-Proofpoint-Sentinel:  stfj2tGTt5ph09ITwmfa2njfkAr217FuLuOS/Dx+/Li4BqxTYWx0ZWRfX0xr
 kVR/ZKvHh+LprWNXSRyWTirIBPCfcTuoUkkV+ssFhCyNA93g0nr2NFTC1x4zjLmIa3yXHc+aBChK
 jPhx0j5SFUoJVymmHg==
X-Sender:  nathanael.attar.ext@culture.gouv.fr
User-Agent:  Roundcube Webmail/0.9.5
X-Proofpoint-Virus-Version:  vendor=nai engine=5800 definitions=8403 signatures=670795
X-MS-Exchange-Organization-AVStamp-Mailbox:  SMEXw]nP;1314700;0;This mail has
 been scanned by Trend Micro ScanMail for Microsoft Exchange;
X-MS-Exchange-Organization-SCL:  0
X-MS-Exchange-Organization-AuthSource: 
 MVLINF10CTNWM08.DR-RES.INTRADEF.GOUV.FR
X-MS-Exchange-Organization-AuthAs:  Anonymous

------=_Part_376_19850872.1517006385224
Content-Type: multipart/alternative; 
	boundary="----=_Part_377_24765477.1517006385224"

------=_Part_377_24765477.1517006385224
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Bonjour Thierry,

Techniquement, nous consid=C3=A9rons qu'une limitation nous est impos=C3=A9=
e par JAVA : les dates ne peuvent pas d=C3=A9passer l'an 9999.

Fonctionnellement, nous sommes d'accord qu'un contr=C3=B4le doit =C3=AAtre =
effectu=C3=A9 pour ce genre de cas avec des dates "inacceptables".

Sous toutes r=C3=A9serves, ma compr=C3=A9hension est que la date 9999 =C3=
=A9tait pr=C3=A9sente et a =C3=A9t=C3=A9 utilis=C3=A9e =C3=A0 titre de test=
 dans le r=C3=A9f=C3=A9rentiel des r=C3=A8gles de gestion de Vitam, et a =
=C3=A9t=C3=A9 utilis=C3=A9e =C3=A0 titre de test uniquement =C3=A0 cette fi=
n : dans le cadre d'une utilisation ext=C3=A9rieure, elle n'aurait pas du y=
 =C3=AAtre.=20

Dans une utilisation classique, nous n'utiliserions effectivement pas de te=
lles dur=C3=A9es de conservation.

Pour cela, nous pouvons proposer une =C3=A9volution =C3=A0 cr=C3=A9er :

- soit au niveau de l'import du r=C3=A9f=C3=A9rentiel des formats pour ne p=
as d=C3=A9passer 9999 lors du calcul de l'=C3=A9ch=C3=A9ance.

- soit comme vous le soulignez mettre l'entr=C3=A9e en warning indiquant qu=
e la date de fin d'=C3=A9ch=C3=A9ance n'a pas pu =C3=AAtre calcul=C3=A9e;

Les deux propositions pourront =C3=AAtre compl=C3=A9t=C3=A9es suite =C3=A0 =
une r=C3=A9flexion men=C3=A9e prochainement par VITAM.

Cdt

Nathanael

=20

=20

Le 2017-01-10 09:26, CASIMIRIUS Thierry a =C3=A9crit :

=09Bonjour,

=09=20

=09Je suis tr=C3=A8s surpris de voir ce bug rejet=C3=A9.

=09Nous avons utilis=C3=A9 une r=C3=A8gle donn=C3=A9e par VITAM, et dire qu=
=E2=80=99il faudrait changer la r=C3=A9gle n=E2=80=99est pas =C3=A0 mon sen=
s la bonne solution.

=09=20

=09VITAM ne devrait pas planter m=C3=AAme si la date n=E2=80=99est pas acce=
ptable.

=09La date devrait soit =C3=AAtre ignor=C3=A9e, ou on devrait avoir un mess=
age d=E2=80=99avertissement lors de l=E2=80=99import du r=C3=A9f=C3=A9renti=
el des r=C3=A8gles de gestion.

=09=20

=09On en parle cet apr=C3=A8s-midi, mais je ne comprends pas votre position=
.

=09https://support.programmevitam.fr/themes/common/images/avatar_default.pn=
g

=09Nathanael Attar (nattar) <https://support.programmevitam.fr/users/nattar=
> il y a 17 heures

=09Bonjour,
=09
=09Apr=C3=A8s investigation, le probl=C3=A8me se situe au niveau du calcul =
de date de fin d'une r=C3=A8gle de gestion, calcul qui ne peut =C3=AAtre su=
p=C3=A9rieur =C3=A0 9999 ans.
=09
=09En effet, le format date ann=C3=A9e 11999 est "not acceptable" .
=09La R=C3=A8gle de gestion s'effectue avec la r=C3=A9f=C3=A9rence : ACC 00=
04.
=09
=09Lors de calcul de date de fin de r=C3=A8gle ACC 0004
=09End Date =3D startDate + duration =3D=3D&gt; 11999=3D 9999+2000, alors l=
e format de date est non acceptable dans ce cas .
=09
=09R=C3=A8gle de gestion avec r=C3=A9f=C3=A9rence : ACC 0001=20
=09Lors de calcul de date de fin ACC 0001=20
=09endDate=3DstartDate + duration =3D=3D&gt; 2017=3D2017 + 0, alors le form=
at de date est acceptable dans ce cas=20
=09
=09Solution : Merci de changer la dur=C3=A9e de r=C3=A8gle ACC 0004 en une =
dur=C3=A9e acceptable

________________________________

=09=C2=B7         Statut modifi=C3=A9 de Accept=C3=A9 =C3=A0 Rejet=C3=A9

=09=20

=09=20

=09=20

=09Cordialement,

=09=20

=09Thierry CASIMIRIUS

=09Chef du bureau des technologies de l=E2=80=99information

=09Service historique de la D=C3=A9fense

=09SGA/DMPA/SHD/PPST/BTI

=09T=C3=A9l : 01 41 93 20 45

=09=20

=09-----Message d'origine-----
=09De : Mantis Bug Tracker [mailto:admtlvitam@gmail.com]=20
=09Envoy=C3=A9 : mercredi 4 janvier 2017 11:13
=09=C3=80 : CASIMIRIUS Thierry IDEF MINDEF
=09Objet : [Projet VITAM 0000048]: R=C3=A8gle de gestion ACC-0004 fait plan=
ter Ingest

=09=20

=09=20

=09Le bogue suivant a =C3=A9t=C3=A9 soumis.=20

=09=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

=09http://213.32.79.242/mantisbt/view.php?id=3D48 <http://213.32.79.242/man=
tisbt/view.php?id=3D48>=20

=09=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=20

=09Rapporteur:                 Franck

=09Responsable:                Franck

=09=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=20

=09Projet:                     Projet VITAM

=09Bogue ID:                   48

=09Cat=C3=A9gorie:                  BugFromTestlink

=09Reproductibilit=C3=A9:           toujours

=09Impact:                     majeur

=09Priorit=C3=A9:                   normale

=09Statut:                     affect=C3=A9

=09Comportement attendu:       =20

=09US concern=C3=A9e:               =20

=09=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=20

=09Date de soumission:         2017-01-04 11:12 CET

=09Derni=C3=A8re modification:      2017-01-04 11:12 CET

=09=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=20

=09R=C3=A9sum=C3=A9:                     R=C3=A8gle de gestion ACC-0004 fai=
t planter Ingest

=09Description:=20

=09Nous constituons un SIP dont l'un des items (ou tous) est/sont soumis =
=C3=A0 la r=C3=A8gle de gestion ACC0004.

=09Lorsque nous faisons l'ingest, celui ci plante.

=09=20

=09Par ihm, nous obtenons une croix indiquant que le transfert n'a pas fonc=
tionn=C3=A9 mais pas d'ATR.

=09=20

=09Par API, nous obtenons :

=09=20

=09<html>

=09<head>

=09<meta http-equiv=3D"Content-Type" content=3D"text/html;charset=3DISO-885=
9-1"/>

=09<title>Error 500 </title>

=09</head>

=09<body>

=09<h2>HTTP ERROR: 500</h2>

=09<p>Problem accessing /ingest/v1/ingests. Reason:

=09<pre>    Internal Server Error</pre></p>

=09<hr />

=09</body>

=09</html>

=09=20

=09Nous fournissons le SIP en pj. Ici la r=C3=A8gle est au niveau Managemen=
t MetaData mais nous avons aussi essay=C3=A9 en la mettant au niveau d'un i=
tem. Nous avons essay=C3=A9 le m=C3=AAme SIP en rempla=C3=A7ant juste la r=
=C3=A8gle ACC0004 par la ACC0001, ou 2 ou 3 et tout s'est bien pass=C3=A9.

=09=20

=09Il semble que ce soit la r=C3=A8gle ACC0004 qui pose probl=C3=A8me.

=09=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=20

=09=20

=09Historique du bogue=20

=09Date de modificationNom d=E2=80=99utilisateurChamp                    Ch=
angement     =20

=09   =20

=09=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=20

=092017-01-04 11:12 Franck         Nouveau bogue                           =
    =20

=092017-01-04 11:12 Franck         Statut                   nouveau =3D> af=
fect=C3=A9 =20

=092017-01-04 11:12 Franck         Assign=C3=A9 =C3=A0                 =3D>=
 Franck         =20

=092017-01-04 11:12 Franck         Fichier ajout=C3=A9:

=09SIP-20170103145212justeMMDTacc4.zip                   =20

=09=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
------=_Part_377_24765477.1517006385224
Content-Type: multipart/related; 
	boundary="----=_Part_378_32665202.1517006385224"

------=_Part_378_32665202.1517006385224
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"><html>
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8"></=
head>
<body style=3D"font-family: Verdana,Geneva,sans-serif">
<p>Bonjour Thierry,</p>
<p>Techniquement, nous consid=C3=A9rons qu'une limitation nous est impos=C3=
=A9e par JAVA : les dates ne peuvent pas d=C3=A9passer l'an 9999.</p>
<p>Fonctionnellement, nous sommes d'accord qu'un contr=C3=B4le doit =C3=AAt=
re effectu=C3=A9 pour ce genre de cas avec des dates &quot;inacceptables&qu=
ot;.</p>
<p>Sous toutes r=C3=A9serves, ma compr=C3=A9hension est que la date 9999 =
=C3=A9tait pr=C3=A9sente et a =C3=A9t=C3=A9 utilis=C3=A9e =C3=A0 titre de t=
est dans le r=C3=A9f=C3=A9rentiel des r=C3=A8gles de gestion de Vitam, et a=
 =C3=A9t=C3=A9 utilis=C3=A9e =C3=A0 titre de test uniquement =C3=A0 cette f=
in : dans le cadre d'une utilisation ext=C3=A9rieure, elle n'aurait pas du =
y =C3=AAtre.&nbsp;</p>
<p>Dans une utilisation classique, nous n'utiliserions effectivement pas de=
 telles dur=C3=A9es de conservation.</p>
<p>Pour cela, nous pouvons proposer une =C3=A9volution =C3=A0 cr=C3=A9er :<=
/p>
<p>- soit au niveau de l'import du r=C3=A9f=C3=A9rentiel des formats pour n=
e pas d=C3=A9passer 9999 lors du calcul de l'=C3=A9ch=C3=A9ance.</p>
<p>- soit comme vous le soulignez mettre l'entr=C3=A9e en warning indiquant=
 que la date de fin d'=C3=A9ch=C3=A9ance n'a pas pu =C3=AAtre calcul=C3=A9e=
;</p>
<p>Les deux propositions pourront =C3=AAtre compl=C3=A9t=C3=A9es suite =C3=
=A0 une r=C3=A9flexion men=C3=A9e prochainement par VITAM.</p>
<p>Cdt</p>
<p>Nathanael</p>
<p>&nbsp;</p>
<div>&nbsp;</div>
<p>Le 2017-01-10 09:26, CASIMIRIUS Thierry a =C3=A9crit&nbsp;:</p>
<blockquote type=3D"cite" style=3D"padding-left:5px; border-left:#1010ff 2p=
x solid; margin-left:5px"><!-- html ignored --><!-- head ignored --><!-- me=
ta ignored --><!-- meta ignored --><!-- node type 8 --><!-- node type 8 -->=
<!-- node type 8 -->
<div class=3D"WordSection1">
<p class=3D"MsoPlainText">Bonjour,<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Je suis tr=C3=A8s surpris de voir ce bug rejet=C3=
=A9.<!-- o ignored --></p>
<p class=3D"MsoPlainText">Nous avons utilis=C3=A9 une r=C3=A8gle donn=C3=A9=
e par VITAM, et dire qu=E2=80=99il faudrait changer la r=C3=A9gle n=E2=80=
=99est pas =C3=A0 mon sens la bonne solution.<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">VITAM ne devrait pas planter m=C3=AAme si la date=
 n=E2=80=99est pas acceptable.<!-- o ignored --></p>
<p class=3D"MsoPlainText">La date devrait soit =C3=AAtre ignor=C3=A9e, ou o=
n devrait avoir un message d=E2=80=99avertissement lors de l=E2=80=99import=
 du r=C3=A9f=C3=A9rentiel des r=C3=A8gles de gestion.<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">On en parle cet apr=C3=A8s-midi, mais je ne compr=
ends pas votre position.<!-- o ignored --></p>
<p class=3D"MsoNormal"><!-- node type 8 --><img src=3D"cid:b71db5ad9fb779fa=
37b236bcb3eef70e@culture.gouv.fr" alt=3D"https://support.programmevitam.fr/=
themes/common/images/avatar_default.png" width=3D"32" height=3D"32"><!-- o =
ignored --></p>
<p class=3D"MsoNormal" style=3D"margin-left: 35.4pt;"><span class=3D"tracke=
rartifactfollowuptitleuser"><span style=3D"background: yellow; mso-highligh=
t: yellow;"><a href=3D"https://support.programmevitam.fr/users/nattar">Nath=
anael Attar (nattar)</a></span></span><span style=3D"background: yellow; ms=
o-highlight: yellow;">il y a 17 heures<!-- o ignored --></span></p>
<p class=3D"MsoNormal" style=3D"margin-left: 35.4pt;"><span style=3D"backgr=
ound: yellow; mso-highlight: yellow;">Bonjour,<br><br> Apr=C3=A8s investiga=
tion, le probl=C3=A8me se situe au niveau du calcul de date de fin d'une r=
=C3=A8gle de gestion, calcul qui ne peut =C3=AAtre sup=C3=A9rieur =C3=A0 99=
99 ans.<br><br> En effet, le format date ann=C3=A9e 11999 est &quot;not acc=
eptable&quot; .<br> La R=C3=A8gle de gestion s'effectue avec la r=C3=A9f=C3=
=A9rence : ACC 0004.<br><br> Lors de calcul de date de fin de r=C3=A8gle AC=
C 0004<br> End Date =3D startDate &#43; duration =3D=3D&amp;gt; 11999=3D 99=
99&#43;2000, alors le format de date est non acceptable dans ce cas .<br><b=
r> R=C3=A8gle de gestion avec r=C3=A9f=C3=A9rence : ACC 0001 <br> Lors de c=
alcul de date de fin ACC 0001 <br> endDate=3DstartDate &#43; duration =3D=
=3D&amp;gt; 2017=3D2017 &#43; 0, alors le format de date est acceptable dan=
s ce cas <br><br> Solution : Merci de changer la dur=C3=A9e de r=C3=A8gle A=
CC 0004 en une dur=C3=A9e acceptable<!-- o ignored --></span></p>
<div class=3D"MsoNormal" style=3D"margin-left: 35.4pt; text-align: center;"=
 align=3D"center"><hr align=3D"center" size=3D"1" width=3D"100%"></div>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt: auto; mso-margin-bottom=
-alt: auto; margin-left: 71.4pt; text-indent: -18.0pt; mso-list: l0 level1 =
lfo1;"><span style=3D"font-size: 10.0pt; font-family: Symbol; background: y=
ellow; mso-highlight: yellow;"><span style=3D"mso-list: Ignore;">=C2=B7<spa=
n style=3D"font: 7.0pt  'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp; </span></span></span><span class=3D"trackerartifactfollow=
upchangesfield"><strong><span style=3D"background: yellow; mso-highlight: y=
ellow;">Statut</span></strong></span><span style=3D"background: yellow; mso=
-highlight: yellow;"> <span class=3D"trackerartifactfollowupchangeschanges"=
>modifi=C3=A9 de Accept=C3=A9 =C3=A0 Rejet=C3=A9</span><!-- o ignored --></=
span></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Cordialement,<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Thierry CASIMIRIUS<!-- o ignored --></p>
<p class=3D"MsoPlainText">Chef du bureau des technologies de l=E2=80=99info=
rmation<!-- o ignored --></p>
<p class=3D"MsoPlainText">Service historique de la D=C3=A9fense<!-- o ignor=
ed --></p>
<p class=3D"MsoPlainText">SGA/DMPA/SHD/PPST/BTI<!-- o ignored --></p>
<p class=3D"MsoPlainText">T=C3=A9l&nbsp;: 01 41 93 20 45<!-- o ignored --><=
/p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText"><span style=3D"mso-fareast-language: FR;">-----Me=
ssage d'origine-----<br> De&nbsp;: Mantis Bug Tracker [mailto:admtlvitam@gm=
ail.com] <br> Envoy=C3=A9&nbsp;: mercredi 4 janvier 2017 11:13<br> =C3=80&n=
bsp;: CASIMIRIUS Thierry IDEF MINDEF<br> Objet&nbsp;: [Projet VITAM 0000048=
]: R=C3=A8gle de gestion ACC-0004 fait planter Ingest</span></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Le bogue suivant a =C3=A9t=C3=A9 soumis. <!-- o i=
gnored --></p>
<p class=3D"MsoPlainText">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D<!-- o ignored --></p>
<p class=3D"MsoPlainText"><a href=3D"http://213.32.79.242/mantisbt/view.php=
?id=3D48"><span style=3D"color: windowtext; text-decoration: none;">http://=
213.32.79.242/mantisbt/view.php?id=3D48</span></a><!-- o ignored --></p>
<p class=3D"MsoPlainText">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D <!-- o ignored --></p>
<p class=3D"MsoPlainText">Rapporteur:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Franck<!-- o ign=
ored --></p>
<p class=3D"MsoPlainText">Responsable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Franck<!-- o ignored =
--></p>
<p class=3D"MsoPlainText">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D <!-- o ignored --></p>
<p class=3D"MsoPlainText">Projet:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp; Projet VITAM<!-- o ignored --></p>
<p class=3D"MsoPlainText">Bogue ID:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 48<!--=
 o ignored --></p>
<p class=3D"MsoPlainText">Cat=C3=A9gorie:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BugFro=
mTestlink<!-- o ignored --></p>
<p class=3D"MsoPlainText">Reproductibilit=C3=A9:&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toujours<!-- o ignored --></p>
<p class=3D"MsoPlainText">Impact:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp; majeur<!-- o ignored --></p>
<p class=3D"MsoPlainText">Priorit=C3=A9:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n=
ormale<!-- o ignored --></p>
<p class=3D"MsoPlainText">Statut:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp; affect=C3=A9<!-- o ignored --></p>
<p class=3D"MsoPlainText">Comportement attendu:&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; <!-- o ignored --></p>
<p class=3D"MsoPlainText">US concern=C3=A9e:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <!-- o ignored =
--></p>
<p class=3D"MsoPlainText">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D <!-- o ignored --></p>
<p class=3D"MsoPlainText">Date de soumission:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp; 2017-01-04 11:12 CET<!-- o ignored --></p>
<p class=3D"MsoPlainText">Derni=C3=A8re modification:&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; 2017-01-04 11:12 CET<!-- o ignored --></p>
<p class=3D"MsoPlainText">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D <!-- o ignored --></p>
<p class=3D"MsoPlainText">R=C3=A9sum=C3=A9:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;R=C3=A8gle de gestion ACC-0004 fait planter Ingest<!-- o igno=
red --></p>
<p class=3D"MsoPlainText">Description: <!-- o ignored --></p>
<p class=3D"MsoPlainText">Nous constituons un SIP dont l'un des items (ou t=
ous) est/sont soumis =C3=A0 la r=C3=A8gle de gestion ACC0004.<!-- o ignored=
 --></p>
<p class=3D"MsoPlainText">Lorsque nous faisons l'ingest, celui ci plante.<!=
-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Par ihm, nous obtenons une croix indiquant que le=
 transfert n'a pas fonctionn=C3=A9 mais pas d'ATR.<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Par API, nous obtenons :<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">&lt;html&gt;<!-- o ignored --></p>
<p class=3D"MsoPlainText">&lt;head&gt;<!-- o ignored --></p>
<p class=3D"MsoPlainText">&lt;meta http-equiv=3D&quot;Content-Type&quot; co=
ntent=3D&quot;text/html;charset=3DISO-8859-1&quot;/&gt;<!-- o ignored --></=
p>
<p class=3D"MsoPlainText">&lt;title&gt;Error 500 &lt;/title&gt;<!-- o ignor=
ed --></p>
<p class=3D"MsoPlainText">&lt;/head&gt;<!-- o ignored --></p>
<p class=3D"MsoPlainText">&lt;body&gt;<!-- o ignored --></p>
<p class=3D"MsoPlainText">&lt;h2&gt;HTTP ERROR: 500&lt;/h2&gt;<!-- o ignore=
d --></p>
<p class=3D"MsoPlainText">&lt;p&gt;Problem accessing /ingest/v1/ingests. Re=
ason:<!-- o ignored --></p>
<p class=3D"MsoPlainText">&lt;pre&gt;&nbsp;&nbsp;&nbsp; Internal Server Err=
or&lt;/pre&gt;&lt;/p&gt;<!-- o ignored --></p>
<p class=3D"MsoPlainText">&lt;hr /&gt;<!-- o ignored --></p>
<p class=3D"MsoPlainText">&lt;/body&gt;<!-- o ignored --></p>
<p class=3D"MsoPlainText">&lt;/html&gt;<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Nous fournissons le SIP en pj. Ici la r=C3=A8gle =
est au niveau Management MetaData mais nous avons aussi essay=C3=A9 en la m=
ettant au niveau d'un item. Nous avons essay=C3=A9 le m=C3=AAme SIP en remp=
la=C3=A7ant juste la r=C3=A8gle ACC0004 par la ACC0001, ou 2 ou 3 et tout s=
'est bien pass=C3=A9.<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Il semble que ce soit la r=C3=A8gle ACC0004 qui p=
ose probl=C3=A8me.<!-- o ignored --></p>
<p class=3D"MsoPlainText">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D <!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
<p class=3D"MsoPlainText">Historique du bogue <!-- o ignored --></p>
<p class=3D"MsoPlainText">Date de modificationNom d=E2=80=99utilisateurCham=
p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Changement&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp; <!-- o ignored --></p>
<p class=3D"MsoPlainText">&nbsp;&nbsp;&nbsp;&nbsp;<!-- o ignored --></p>
<p class=3D"MsoPlainText">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D <!-- o ignored --></p>
<p class=3D"MsoPlainText">2017-01-04 11:12 Franck&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp; Nouveau bogue&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <!=
-- o ignored --></p>
<p class=3D"MsoPlainText">2017-01-04 11:12 Franck&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp; Statut&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nouveau =3D&=
gt; affect=C3=A9&nbsp; <!-- o ignored --></p>
<p class=3D"MsoPlainText">2017-01-04 11:12 Franck&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp; Assign=C3=A9 =C3=A0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =3D&gt; Fra=
nck&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <!-- o ignored --=
></p>
<p class=3D"MsoPlainText">2017-01-04 11:12 Franck&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp; Fichier ajout=C3=A9:<!-- o ignored --></p>
<p class=3D"MsoPlainText">SIP-20170103145212justeMMDTacc4.zip&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; &nbsp;&nbsp;<!-- o ignored --></p>
<p class=3D"MsoPlainText">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D<!-- o ignored --></p>
<p class=3D"MsoPlainText"><!-- o ignored -->&nbsp;</p>
</div>
</blockquote>
</body></html>
------=_Part_378_32665202.1517006385224
Content-Type: image/png; name=image001.png
Content-Transfer-Encoding: base64
Content-ID: <b71db5ad9fb779fa37b236bcb3eef70e@culture.gouv.fr>
Content-Disposition: inline; filename="image001.png"

iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0ICQMB9xQAAAANQTFRFAAAA
p3o92gAAAAF0Uk5TAEDm2GYAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAE1p
Y3Jvc29mdCBPZmZpY2V/7TVxAAAAEklEQVQ4y2NgGAWjYBSMAuwAAAQgAAFWu83mAAAAAElFTkSu
QmCC
------=_Part_378_32665202.1517006385224--

------=_Part_377_24765477.1517006385224--

------=_Part_376_19850872.1517006385224--
