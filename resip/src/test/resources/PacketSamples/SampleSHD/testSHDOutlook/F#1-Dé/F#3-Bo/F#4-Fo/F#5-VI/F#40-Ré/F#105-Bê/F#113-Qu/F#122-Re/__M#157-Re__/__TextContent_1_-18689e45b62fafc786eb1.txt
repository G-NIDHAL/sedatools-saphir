Bonjour Thierry,

Nous avons déjà communiqué sur le fait que le périmètre de la bêta n'inclut pas l'accès aux fichiers ATR et Manifest via les API.

Cette fonctionnalité n'est donc pas à inclure dans le périmètre de vos tests. Si cette fonction est importante pour vos tests, nous avons également communiqué sur un moyen de contournement pour accéder à ces fichiers en attendant que cette fonctionnalité soit développée. Ce contournement est un acte d'administration simple qui n'a pas vocation à être documenté dans la bêta. Le point pourra néanmoins être abordé à l'occasion d'une opération de support à l'installation. 

Si le besoin est d'expérimenter des usages avec les archivistes du ministère de la défense comme vous semblez l'indiquer :

" L’intérêt est d’explorer différentes manières de récupérer un bordereau.
 Un exemple de situation : un archiviste n’a pas conservé le manifest d’un envoie mais souhaite le retrouver à partir d’informations sur cet envoie.
 Par exemple, il se rappelle du nom d’un des fichiers contenus dans le SIP.
 Ou par exemple, il veut récupérer tous les bordereaux d’un service versant.
Ou encore, tous les bordereaux datant de moins de deux jours et dont les SIPs contenaient des fichiers à un format donné."

c'est une excellente nouvelle mais il faut alors traiter ce sujet dans un autre cadre : priorisation des évolutions, mise en place d'ateliers avec les PO vitam/Édouard. 

Concernant la demande de précision supplémentaire sur les métadonnées du SEDA vs le modèle de donnée vitam, nous complétons actuellement nos réponses précédentes dans le fichier SEDA-XML-JSON-réponse précisions-v04.xlsx. Il sera renvoyé complété courant de la semaine prochaine.


Merci et Bon week-end, 


Emmanuel Laborde

 

 

 

Le 2016-11-25 17:28, CASIMIRIUS Thierry a écrit :

	Emmanuel, Edouard,

	 

	Vous trouverez ci-dessous «  en bleu » nos compléments de remarques, réponses à vos questions,  et demandes de précisions suite à analyse de vos réponses.

	 

	D’avance, merci pour vos retours,

	 

	 

	Cordialement,

	 

	Thierry CASIMIRIUS

	Adjoint au chef du bureau des technologies d’information

	Service historique de la Défense

	SGA/DMPA/SHD/PPST/BTI

	Tél : 01 41 93 20 45

	 

	 

	 

	De : emmanuel.laborde [mailto:emmanuel.laborde@culture.gouv.fr] 
	Envoyé : vendredi 25 novembre 2016 14:58
	À : CASIMIRIUS Thierry
	Cc : AJJAZ Franck; DANYACH-DESCHAMPS Myriam
	Objet : Re: TR: Urgent : Besoins d'accès aux bordereaux par API Interne

	 

	 

	Bonjour,

	 

	Mes réponses en vert. 

	Cordialement,

	Emmanuel Laborde

	 

	 

	Le 2016-11-25 11:31, CASIMIRIUS Thierry a écrit :

		Bonjour Emmanuel,

		 

		Suite à la réunion d’hier, nous avons compris que l’on ne pourrait pas récupérer les Bordereaux (ni les ATR) par les APIs externes

		L'ATR est renvoyé au moment de l'appel à l'API Ingest, il est donc bien renvoyé par une API mais il n'y a pas d'API pour aller le chercher dans le stockage après cette première émission. Il est par contre accessible dans le système de fichier de l'offre de stockage tout comme le manifest. 

		Le bordereau (manifeste) est stocké tel qu'il à été envoyé donc, en tant qu'émetteur, vous en disposez. JE ne vois donc pas la nécessité pour vous d'aller le récupérer sur l'offre dans VITAM.

		L’intérêt est d’explorer différentes manières de récupérer un bordereau.

		 

		Un exemple de situation : un archiviste n’a pas conservé le manifest d’un envoie mais souhaite le retrouver à partir d’informations sur cet envoie.

		Par exemple, il se rappelle du nom d’un des fichiers contenus dans le SIP.

		 

		Ou par exemple, il veut récupérer tous les bordereaux d’un service versant.

		 

		Ou encore, tous les bordereaux datant de moins de deux jours et dont les SIPs contenaient des fichiers à un format donné.

		 

		Etc…

		Or, il semble que nous n’aurons accès qu’aux APIs externes. 

		 

		Est-il possible d’avoir accès aux APIs internes afin de pouvoir effectuer nos tests pour valider par exemple  la condition ACC-03-001  dans l’activité  ACC-03  (plusieurs cas de tests dans notre matrice de couverture) ? ils sont accessibles dans le système de fichier de l'offre de stockage, il est donc inutile d'utiliser une API Interne pour cela.

		Bien qu’intéressés par l’offre de stockage comme évoqué dans nos questions suivantes, nous voulons justement éviter celles-ci pour pouvoir utiliser le DSL pour récupérer des manifests selon des critères précis.

		è Si oui, nous aurions besoin de savoir si il y a une collection Bordereau (il n’y en a pas dans le modèle de données) qui nous permettent de connaitre les MD des Bordereaux eux-mêmes (à bien différencier des MDs contenues dans les bordereaux mais qui concernent des units) afin de pouvoir les rechercher de plusieurs manières différentes. ? Il n'y a pas de collection de Bordereau. Il n'y a qu'un bordreau c'est le manifest SEDA. 

		Ok, pas de collection ; mais pas de MDs non plus ?

		Cela veut dire que les bordereaux sont stockés mais pas indexés ? Car s’ils étaient indexés, ils auraient des MDs propres ? Ils doivent bien en avoir puisqu’ils ont des identifiants ?

		 

		Par ailleurs, vous avez  montré hier la récupération de l’ATR  via l’offre de stockage. Est ce via l’ihm de démo, de recette ou bien est-ce une ihm dédiée ? Pas par une IHM. il s'agissait d'un accès direct au système de fichier de l'offre de stockage exposé au travers d'un serveur web simple (type apache) sans remise en forme ni contrôle spécifique.

		 Peut-on en savoir plus ? C’est peut être expliqué par le manuel d’installation ; auquel cas nous pouvons attendre mardi pour ce point.

		D’avance, merci, pour ton retour, qui conditionne notre périmètre de test

		 

		Cordialement,

		 

		Thierry CASIMIRIUS

		Adjoint au chef du bureau des technologies d’information

		Service historique de la Défense

		SGA/DMPA/SHD/PPST/BTI

		Tél : 01 41 93 20 45


	Bonsoir Thierry,

	Toute information descriptive fournie dans le bordereau pour une ArchiveUnit est enregistrée en base et requêtable via les API.

	Si le bordereau fournit ces informations (<OriginatingAgencyArchiveUnitIdentifier>, <OriginatingSystemId> , <OrganizationDescriptiveMetadata>), elles seront enregistrées en base et donc requêtables.

	Nous n'avons pas jugé nécessaire, dans le document modèle de données, de citer toutes les métadonnées potentiellement fournies dans le bordereau. D'autant plus que chaque implémentation peut en rajouter, le bloc Content du SEDA étant extensible.

	Les réponses à vos autres questions vous seront apportées ultérieurement.

	Excellente fin de semaine

	Edouard

	 

	 

	Le 2016-11-25 16:55, CASIMIRIUS Thierry a écrit :

		Edouard,

		 

		Merci pour ces fichiers.

		Mais serait-il possible d’avoir les réponses posées dans mon mail du 24/11 ?

		 

		1-      Je comprends que l'ArchiveTransfer et l'ArchiveTransferReply se retrouvent dans le LogbookOperation mais quelle est la forme dédiée dont il est question pour chacun des champs SEDA évoqué? –voir onglet 1 du fichier transmis le 24/11

		2-      Cela signifie-t-il que ces balises ( <OriginatingAgencyArchiveUnitIdentifier>, <OriginatingSystemId> , <OrganizationDescriptiveMetadata> ) sont bien vérifiables / récupérables dans VITAM ? Si oui comment je peux retrouver ces balises pour effectuer mes vérifications si elles ne sont pas recensées dans le model de données ? – voir onglet 5

		 

		D’avance, merci pour ton retour,

		 

		Cordialement,

		 

		Thierry CASIMIRIUS

		Adjoint au chef du bureau des technologies d’information

		Service historique de la Défense

		SGA/DMPA/SHD/PPST/BTI

		Tél : 01 41 93 20 45

		 

		De : edouard VASSEUR [mailto:edouard.vasseur@culture.gouv.fr] 
		Envoyé : jeudi 24 novembre 2016 15:24
		À : CASIMIRIUS Thierry IDEF MINDEF
		Cc : emmanuel.laborde; AJJAZ Franck (franck.ajjaz@altran.com); BEL Nicolas ASC NIV I OA; CHEVENIER Olivier ASC NIV I OA
		Objet : Re: TR: TRA VITAM Beta MINDEF - Nouveau lot de questions => demande de précisions sur la partie données

		 

		Rebonjour,

		Vous trouverez en pièces jointes les 2 accusés de réception générés pendant la démonstration : un accusé de réception pour une entrée OK et un accusé de réception pour une entrée KO.

		Edouard

		 

		 

		Le 2016-11-24 09:34, CASIMIRIUS Thierry a écrit :

			Bonjour Emmanuel,

			 

			Des précisions nous sont encore nécessaires pour la partie données (correspondance SEDA et VITAM, voir onglet 1 et 5 du doc en PJ) :

			 

			1-      Je comprends que l'ArchiveTransfer et l'ArchiveTransferReply se retrouvent dans le LogbookOperation mais quelle est la forme dédiée dont il est question pour chacun des champs SEDA évoqué? –voir onglet 1

			2-      Cela signifie-t-il que ces balises ( <OriginatingAgencyArchiveUnitIdentifier>, <OriginatingSystemId> , <OrganizationDescriptiveMetadata> ) sont bien vérifiables / récupérables dans VITAM ? Si oui comment je peux retrouver ces balises pour effectuer mes vérifications si elles ne sont pas recensées dans le model de données ? – voir onglet 5

			 

			D’avance, merci pour ton retour,

			 

			Au besoin, nous aurons l’occasion d’échanger sur ces points cet après-midi

			 

			Cordialement,

			 

			Thierry CASIMIRIUS

			Adjoint au chef du bureau des technologies d’information

			Service historique de la Défense

			SGA/DMPA/SHD/PPST/BTI

			Tél : 01 41 93 20 45

			 

			De : AJJAZ Franck [mailto:franck.ajjaz@altran.com] 
			Envoyé : mercredi 23 novembre 2016 17:58
			À : CASIMIRIUS Thierry IDEF MINDEF
			Cc : DANYACH-DESCHAMPS Myriam ASC
			Objet : RE: TRA VITAM Beta MINDEF - Nouveau lot de questions

			 

			Re bonjour Thierry,

			 

			Voici nos demandes de précisions sur la partie données. (voir onglet 1 et 5)

			 

			Cordialement,

			Franck AJJAZ

			Chef de Projet

			TRA VITAM
			franck.ajjaz@altran.com

			 

			 

			 

			 

			De : emmanuel.laborde [mailto:emmanuel.laborde@culture.gouv.fr] 
			Envoyé : mercredi 23 novembre 2016 17:00
			À : CASIMIRIUS Thierry
			Cc : AJJAZ Franck; DANYACH-DESCHAMPS Myriam; VASSEUR Edouard
			Objet : Re: TRA VITAM Beta MINDEF - Nouveau lot de questions

			 

			 

			Bonjour,

			Voici les réponses aux questions ainsi que l'analyse des correspondances entre le SEDA et le modèle de donnée VITAM.

			Cdt,

			Emmanuel Laborde

			 

			 

			Le 2016-11-22 16:19, CASIMIRIUS Thierry a écrit :

				Bonjour Emmanuel,

				 

				Nous ( ALTRAN)  avons un nouveau lot de question – Voir le fichier « Question VITAM 3.xlsx ». Pourriez-vous y apporter vos réponses ?

				 

				Par ailleurs, ALTRAN cherche à établir, sur la base du document modèle de données, les correspondances entre les champs SEDA, les balises existants dans le fichier SIP , et le parallèle dans le JSON.

				 

				Vitam pourrait-il valider nos correspondances sur les 4 premiers onglets de SEDA-XML-JSON.xlsx ? Et les compléter quand cela est possible ?

				 

				Enfin, dans le dernier onglet du document « SEDA-XML-JSON.xlsx », serait-il possible de compléter les champs ???? pour indiquer dans quelle collection les champs ou groupe de champs référencés sont gérés ?

				 

				D’avance, merci,

				 

				Cordialement,

				 

				Thierry CASIMIRIUS

				Adjoint au chef du bureau des technologies d’information

				Service historique de la Défense

				SGA/DMPA/SHD/PPST/BTI

				Tél : 01 41 93 20 45

				 

				De : AJJAZ Franck [mailto:franck.ajjaz@altran.com] 
				Envoyé : mardi 22 novembre 2016 15:59
				À : CASIMIRIUS Thierry IDEF MINDEF
				Cc : DANYACH-DESCHAMPS Myriam ASC; AJJAZ Franck
				Objet : Questions VITAM

				 

				Bonjour,

				 

				Voici un lot de question pour VITAM. Il y a deux documents.

				 

				Il y a un excel avec des questions (Question VITAM 3.xlsx) et un autre (SEDA-XML-JSON.xlsx) avec les correspondances entre les champs du SEDA, ceux dans le bordereau et ceux dans VITAM.

				 

				Vitam pourrait-il valider nos correspondances sur les 4 premiers onglets de SEDA-XML-JSON.xlsx ? Et les compléter quand cela est possible ? Nous savons qu’ils ne pourront pas le faire pour toutes puisque certaines balises ‘mères’ n’auront pas d’équivalent dans VITAM et que certaines balises deviennent des valeurs de champs dans VITAM et vice versa.

				 

				De plus, nous nous doutons que les champs correspondants à l’ATR et au bordereau dans l’onglet BusinessMessageType ne sont peut être pas stockés tels quels dans VITAM.

				 

				Et serait-il possible de compléter le 5ème onglet là où il y a écrit « ???? » ?

				 

				Cordialement,

				Franck AJJAZ

				Chef de Projet

				TRA VITAM
				franck.ajjaz@altran.com